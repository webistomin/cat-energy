!function(){"use strict";var t={container:null,startPosition:50,data:null},e=function(e){this.options=i.extend({},[t,e],{clearEmpty:!0}),this.container=this.options.container,this.images=[this.options.data[0].image,this.options.data[1].image],this.labels=[this.options.data[0].label,this.options.data[1].label],this._animateInterval=null,this._comparisonSeparator=null,this._items=[],null==this.container&&console.error("Container element not found!"),this.images[0]&&this.images[1]||console.error("Need two images!"),this._build(),this._setEvents()};e.prototype._build=function(){this.options.container.classList.add("comparison-widget");for(var t=0;t<2;t++){var e=document.createElement("div");e.classList.add("comparison-item");var i=document.createElement("div");i.classList.add("comparison-item__content"),this.labels[t]&&(i.innerHTML='<div class="comparison-item__label">'+this.labels[t]+"</div>"),this.images[t].classList.add("comparison-item__image"),i.appendChild(this.images[t]),e.appendChild(i),0===t&&(e.classList.add("comparison-item--first"),e.style.width=this.options.startPosition+"%",this._comparisonSeparator=document.createElement("div"),this._comparisonSeparator.classList.add("comparison-separator"),this._comparisonSeparator.innerHTML='<div class="comparison-control"><div class="comparison-control__mask"></div></div>',e.appendChild(this._comparisonSeparator)),this._items.push(e),this.container.appendChild(e)}},e.prototype._setEvents=function(){var t=this;t.container.addEventListener("click",function(e){t._calcPosition(e)}),i.setMultiEvents(t._comparisonSeparator,["mousedown","touchstart"],function(){t._comparisonSeparator.classList.add("actived")}),i.setMultiEvents(document.body,["mouseup","touchend"],function(){t._comparisonSeparator.classList.remove("actived")}),i.setMultiEvents(document.body,["mousemove","touchmove"],function(){t._comparisonSeparator.classList.contains("actived")&&(t._calcPosition(event),document.selection&&document.selection.empty())}),i.setMultiEvents(window,["resize","load"],function(){t._setImageSize()});for(var e=0;e<t.images.length;e++)t.images[e].addEventListener("dragstart",function(t){t.preventDefault()})},e.prototype._calcPosition=function(t){var e=this.container.getBoundingClientRect(),i=e.width,n=100*((t.clientX||t.touches[0].pageX)-e.left)/i;n>100?n=100:n<0&&(n=0),this._controllerPosition(n.toFixed(2),t.type)},e.prototype._controllerPosition=function(t,e){switch(e){case"click":this._setPositionWithAnimate(t);break;default:this._updatePosition(t)}},e.prototype._setPositionWithAnimate=function(t){function e(){i._updatePosition(t),clearInterval(i._animateInterval)}var i=this,n=parseFloat(i._items[0].style.width);if(clearInterval(i._animateInterval),t==n)return!1;i._animateInterval=n>t?setInterval(function(){n--,i._updatePosition(n),n<=t&&e()},10):setInterval(function(){n++,i._updatePosition(n),n>=t&&e()},10)},e.prototype._updatePosition=function(t){this._items[0].style.width=t+"%"},e.prototype._setImageSize=function(){this.images[0].style.width=this.container.offsetWidth+"px"};var i={extend:function(t,e,n){function o(t,e){for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];if("Object"===i.getConstructor(s))t[a]||(t[a]={}),o(t[a],s);else{if(n.clearEmpty&&null==s)continue;t[a]=s}}}for(var a in e)e.hasOwnProperty(a)&&o(t,e[a]);return t},setMultiEvents:function(t,e,i){for(var n=0;n<e.length;n++)t.addEventListener(e[n],i)},getConstructor:function(t){return Object.prototype.toString.call(t).slice(8,-1)}};window.ImageComparison=e}();var navToggle=document.querySelector(".page-header__toggle"),navMain=document.querySelector(".main-nav");navToggle.addEventListener("click",function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened"),navToggle.classList.add("page-header__toggle--opened")):(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"),navToggle.classList.remove("page-header__toggle--opened"))});